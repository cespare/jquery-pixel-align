<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="/jquery.pixel-align.js"></script>
  </head>
  <body>
    <p>In Firefox, the squares may be blurry (and change as the page resizes). <button onclick="$.pixelAlignSvgs()">Press me</button> to pixel-align the svgs.</p>
    &nbsp;<svg xmlns="http://www.w3.org/2000/svg" version="1.1">
      <defs>
        <filter id="f1" x="-10%" y="-10%" width="120%" height="120%" filterRes="100">
          <feMerge>
            <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>
        <filter id="f2" x="-10%" y="-10%" width="200%" height="200%" filterRes="100">
          <feOffset result="offOut" in="SourceAlpha" dx="2" dy="2" />
          <feGaussianBlur result="blurOut" in="offOut" stdDeviation="2" />
          <feMerge>
            <feMergeNode in="blurOut"/>
            <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>

      </defs>

      <!-- Translating by 0.5 px so that 1px borders are sharp -->
      <g transform="translate(5.5,5.5)">
        <rect width="20" height="20" rx="2" ry="2" stroke="black" stroke-width="1" fill="white" />
        <rect x="30" width="20" height="20" rx="2" ry="2" stroke="black" stroke-width="1" fill="white" filter="url(#f1)" />
        <rect x="60" width="20" height="20" rx="2" ry="2" stroke="black" stroke-width="1" fill="white" filter="url(#f2)" />
      </g>
    </svg>
  </body>
</html>
